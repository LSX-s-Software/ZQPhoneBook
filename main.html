<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <title>社团通讯录</title>
    <link rel="shortcut icon" href="" type="image/png">
    <link rel="stylesheet" href="src/lib/bootstrap-4.5.3-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="src/lib/bootstrap-4.5.3-dist/css/bootstrap-glyphicon.css">
    <link rel="stylesheet" href="src/css/general.css">
    <link rel="stylesheet" href="src/css/myIcon.css">
    <link rel="stylesheet" href="src/utils/myModal/myModal.css">
    <link rel="stylesheet" href="src/css/main.css">
    <script src="src/lib/jquery-3.5.1.min.js"></script>
    <script src="src/lib/vue.js"></script>
    <script src="src/lib/bootstrap-4.5.3-dist/js/bootstrap.min.js"></script>
    <script src="src/lib/bootstrap-treeview-1.2.0/dist/bootstrap-treeview.min.js"></script>
    <script src="src/utils/myModal/myModal.js"></script>
    <script src="src/js/page/main.js"></script>
</head>

<body>
    <div class="mainContainer">
        <header>
            <img src="src/img/LOGO1.png" alt="" id="logo">
            <div class="headerCtrls">
                <div class="searchMember">
                    <input type="text" id="searchMember" placeholder="搜索成员"><img src="src/img/search.png" alt="" id="searchMemberBtn">
                </div>
                <img src="src/img/avatar.png" alt="" id="myAvatar">
            </div>
        </header>
        <div class="main">
            <div class="treeViewContainer">
                <div id="tree"></div>
            </div>
            <div class="mainViewContainer">
                <div class="myClubContainer" v-if="show[0]">
                    fasdfasdas1
                </div>
                <div class="createClubContainer" v-if="show[1]">
                    fasdfasdas2
                </div>
                <div class="joinClubContainer" v-if="show[2]">
                    <div class="pageCenter joinClub">
                        <h2>加入社团</h2>
                        <input type="text" id="inviteCode" placeholder="请输入社团邀请码"><br>
                        <button id="joinClub" class="defaultBtn" v-on:click="joinClub">提交申请</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="myModal-container" v-if="show">
        <div class="myModal-dialog">
            <!--模版1-->
            <div class="myModal-message" v-if="template == 1">
                <span class="labelS"><img v-bind:src="state[0] == 'success' ? 'src/img/success.png' : 'src/img/error.png'" alt="">
                {{ state[0] == "success" ? "审核通过，你已成功加入" : "出现错误：" + errMsg[0] }}</span>
                <span class="labelM" style="width: 100%;" v-if="state[0] == 'success'">{{ clubName }}</span>
            </div>
            <div class="myModal-buttons" v-if="template == 1">
                <button class="defaultBtn" id="myModal-default" v-if="state[0] == 'success'" v-on:click="backToMyClub">返回我的社团</button>
                <button class="defaultBtn" id="myModal-retry" v-if="state[0] == 'fail'" v-on:click="retry">重试</button>
                <button id="myModal-cancel" v-if="state[0] == 'fail'" v-on:click="close">取消</button>
            </div>
            <!--模版2-->
            <div class="myModal-message" v-if="template == 2">
                <span class="labelS"><img v-bind:src="state[0] == 'success' ? 'src/img/success.png' : 'src/img/error.png'" alt="">
                {{ state[0] == "success" ? "社团创建成功" : "出现错误：" + errMsg[0] }}</span>
                <span class="labelS"><img v-bind:src="state[1] == 'success' ? 'src/img/success.png' : 'src/img/error.png'" alt="">
                {{ state[1] == "success" ? "成员信息导入成功" : "出现错误：" + errMsg[1] }}</span>
            </div>
            <div class="myModal-buttons" v-if="template == 2">
                <button class="defaultBtn" id="myModal-default" v-if="state[0] == 'success' && state[1] == 'success'" >获取成员邀请码</button>
                <button class="defaultBtn" id="myModal-retry" v-if="state[0] == 'fail' || state[1] == 'fail'" v-on:click="retry">重试</button>
                <button id="myModal-cancel" v-if="state[0] == 'fail' || state[1] == 'fail'" v-on:click="close">取消</button>
            </div>
        </div>
    </div>
</body>

</html>